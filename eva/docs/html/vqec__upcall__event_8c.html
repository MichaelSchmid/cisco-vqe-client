<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>VQE-C: vqec_upcall_event.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>vqec_upcall_event.c File Reference</h1><code>#include &quot;<a class="el" href="vqec__upcall__event_8h.html">vqec_upcall_event.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="vqec__channel__private_8h.html">vqec_channel_private.h</a>&quot;</code><br>
<code>#include &quot;vqec_debug.h&quot;</code><br>
<code>#include &lt;sys/un.h&gt;</code><br>
<code>#include &quot;<a class="el" href="vqec__lock__defs_8h.html">vqec_lock_defs.h</a>&quot;</code><br>
<code>#include &quot;vqec_recv_socket.h&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvqec__upcall__sock__desc.html">vqec_upcall_sock_desc</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvqec__upcall__chan__dev__attrib__.html">vqec_upcall_chan_dev_attrib_</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__upcall__event_8c.html#4b3dfa791d981f5ffd65d52efa74adb8">VQEC_UPCALL_SOCKET_BASEDIR</a>&nbsp;&nbsp;&nbsp;&quot;/tmp/&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__upcall__event_8c.html#1bfc983f631f30f8ed47bfefc7d0d95f">VQEC_UPCALL_SOCKET_IRQEVENTS</a>&nbsp;&nbsp;&nbsp;&quot;.vqec_irqsk&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__upcall__event_8c.html#82fe384ab03ee41ca42838d4062c90e2">VQEC_UPCALL_SOCKET_RX_PAKEJECT</a>&nbsp;&nbsp;&nbsp;&quot;.vqec_paksk&quot;</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__upcall__event_8c.html#b07a1700c2b234fe001f4ce99d810cdd">VQEC_DP_UPCALL_RTP_SRC_EVENTS</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__upcall__event_8c.html#f51825943abc8664c0d90b4bd5bc03b8">VQEC_DP_UPCALL_EV_MAX_SIZE</a>&nbsp;&nbsp;&nbsp;(sizeof(vqec_dp_api_version_t) + sizeof(vqec_dp_upcall_irq_event_t))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__upcall__event_8c.html#2df8c32b858caca63248a310b2f2a00c">PID_ASC_LEN</a>&nbsp;&nbsp;&nbsp;16</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="structvqec__upcall__chan__dev__attrib__.html">vqec_upcall_chan_dev_attrib_</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__upcall__event_8c.html#2e5d4040d68a79492c0b8580714645e5">vqec_upcall_chan_dev_attrib_t</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef void(*)&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__upcall__event_8c.html#983e701125b42492941c93c97d238da7">upcall_evt_handler</a> (const vqec_event_t *const, int32_t, int16_t, void *)</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static boolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__upcall__event_8c.html#23ab93d8fe83ac6e5fcfbdcd827afd5f">vqec_upcall_chan_generation_id_verify</a> (<a class="el" href="structvqec__chan__.html">vqec_chan_t</a> *chan, uint32_t dp_generation)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__upcall__event_8c.html#bc742cbb3e686707780af369beb9ce02">vqec_upcall_chan_get_generation_id</a> (<a class="el" href="structvqec__chan__.html">vqec_chan_t</a> *chan)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static boolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__upcall__event_8c.html#8dcef1adeb6f7c926620a5d0317eef82">vqec_upcall_generation_num_le</a> (uint32_t cur, uint32_t last)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static boolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__upcall__event_8c.html#0309081af62e2ac77acef166e7edcd7f">vqec_upcall_chan_update_msg_generation_num</a> (<a class="el" href="structvqec__chan__.html">vqec_chan_t</a> *chan, uint32_t cur_generation_num)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__upcall__event_8c.html#5cbd1ced1597e18287d1e0983d889231">vqec_upcall_chan_event</a> (<a class="el" href="structvqec__chan__.html">vqec_chan_t</a> *chan, <a class="el" href="structvqec__upcall__chan__dev__attrib__.html">vqec_upcall_chan_dev_attrib_t</a> *attrib, vqec_dp_irq_ack_resp_t *irq_resp)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__upcall__event_8c.html#72bbd4ccbd8ec91774a8d650978cd5f4">vqec_upcall_chan_event_batch</a> (<a class="el" href="structvqec__chan__.html">vqec_chan_t</a> *chan, vqec_dp_irq_poll_t *irq_poll)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static boolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__upcall__event_8c.html#3c5b1ce6d0200d407732d407606fdfb7">vqec_upcall_chan_ack_irq</a> (vqec_dp_chanid_t chid, vqec_dp_upcall_device_t device, vqec_dp_streamid_t device_id, vqec_dp_irq_ack_resp_t *resp)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static boolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__upcall__event_8c.html#6b0f0c8a42125f47a809aa63ed3ce298">vqec_upcall_chan_poll_irq</a> (vqec_dp_chanid_t chid, vqec_dp_irq_poll_t *poll)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__upcall__event_8c.html#ae140b5d1eb4c411a3c933d07117d858">vqec_upcall_process_irq_event</a> (char *p_buf, uint16_t len)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__upcall__event_8c.html#2c765af9da16410e1b6cdfa7a574f93b">vqec_upcall_process_nat_pak</a> (char *nat_pak, uint16_t len)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__upcall__event_8c.html#207938bf1386db00331677bfd9d03266">vqec_upcall_event_irq</a> (const vqec_event_t *const ev, int32_t fd, int16_t event, void *unused_dptr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__upcall__event_8c.html#5c919a4bc80e0344385edb9a63653850">vqec_upcall_event_pak_eject</a> (const vqec_event_t *const ev, int32_t fd, int16_t event, void *unused_dptr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static vqec_error_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__upcall__event_8c.html#e127266eb30c7584fa785be20ccb6fe5">vqec_setup_upc_socket</a> (char *un_sock_path, struct <a class="el" href="structvqec__upcall__sock__desc.html">vqec_upcall_sock_desc</a> *desc, <a class="el" href="vqec__upcall__event_8c.html#983e701125b42492941c93c97d238da7">upcall_evt_handler</a> handler)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static vqec_error_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__upcall__event_8c.html#cfbbc0c42c4490669d7ca9020d3737bc">vqec_upcall_setup_irqsock</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static vqec_error_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__upcall__event_8c.html#1a0532545466e26383cdfa71fb2876ea">vqec_upcall_setup_pak_ejectsock</a> (uint32_t max_paksize)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__upcall__event_8c.html#020466839798c4aa443c388dfe065188">vqec_upcall_close_unsocks</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">vqec_error_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__upcall__event_8c.html#d59208eecf5b3dafa404cf8438b25f66">vqec_upcall_setup_unsocks</a> (uint32_t max_paksize)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__upcall__event_8c.html#89aa449aa46af41691afbac0cec9e4fa">vqec_upcall_display_desc_state</a> (struct <a class="el" href="structvqec__upcall__sock__desc.html">vqec_upcall_sock_desc</a> *desc)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__upcall__event_8c.html#d5111e800a4f6f9011aacefd7e9166d7">vqec_upcall_display_state</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__upcall__event_8c.html#2f4a8fcca9020fae5255a967c2f54f14">vqec_upcall_get_irq_stats</a> (<a class="el" href="structvqec__upcall__ev__stats__.html">vqec_upcall_ev_stats_t</a> *stats)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static struct <a class="el" href="structvqec__upcall__sock__desc.html">vqec_upcall_sock_desc</a> <br>
s_upcall_irqsock&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__upcall__event_8c.html#763200cb9a31789752f48aa07ca10c71">s_upcall_pak_ejectsock</a></td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="2df8c32b858caca63248a310b2f2a00c"></a><!-- doxytag: member="vqec_upcall_event.c::PID_ASC_LEN" ref="2df8c32b858caca63248a310b2f2a00c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PID_ASC_LEN&nbsp;&nbsp;&nbsp;16          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
--------------------------------------------------------------------------- Setup IRQ socket.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>vqec_error_t</em>&nbsp;</td><td>Returns VQEC_ERR_OK on success. --------------------------------------------------------------------------- </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="f51825943abc8664c0d90b4bd5bc03b8"></a><!-- doxytag: member="vqec_upcall_event.c::VQEC_DP_UPCALL_EV_MAX_SIZE" ref="f51825943abc8664c0d90b4bd5bc03b8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VQEC_DP_UPCALL_EV_MAX_SIZE&nbsp;&nbsp;&nbsp;(sizeof(vqec_dp_api_version_t) + sizeof(vqec_dp_upcall_irq_event_t))          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
--------------------------------------------------------------------------- Event handler for upcall IRQ events generated by the dataplane. Each channel has its own set of IRQs (messages), one for events on the primary session, one for the repair session, and one for events internal to the dp channel.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>ev</em>&nbsp;</td><td>Pointer to the libevent event. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>fd</em>&nbsp;</td><td>File descriptor of the socket. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>event</em>&nbsp;</td><td>Socket event. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>unused_dptr</em>&nbsp;</td><td>Unused. --------------------------------------------------------------------------- </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="b07a1700c2b234fe001f4ce99d810cdd"></a><!-- doxytag: member="vqec_upcall_event.c::VQEC_DP_UPCALL_RTP_SRC_EVENTS" ref="b07a1700c2b234fe001f4ce99d810cdd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VQEC_DP_UPCALL_RTP_SRC_EVENTS          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment">(VQEC_DP_UPCALL_MAKE_REASON(                        \
         VQEC_DP_UPCALL_REASON_RTP_SRC_ISACTIVE) |      \
     VQEC_DP_UPCALL_MAKE_REASON(                        \
         VQEC_DP_UPCALL_REASON_RTP_SRC_ISINACTIVE) |    \
     VQEC_DP_UPCALL_MAKE_REASON(                        \
         VQEC_DP_UPCALL_REASON_RTP_SRC_NEW) |           \
     VQEC_DP_UPCALL_MAKE_REASON(                        \
         VQEC_DP_UPCALL_REASON_RTP_SRC_CSRC_UPDATE))
</pre></div>--------------------------------------------------------------------------- Process the data for a single upcall event for a channel. The data has been retrieved via IPC. The data is delivered to it's target entity in the channel based on the "device type" specified by the event.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>chan</em>&nbsp;</td><td>Pointer to the channel instance. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>attrib</em>&nbsp;</td><td>Attributes for the device that generated the event. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>irq_resp</em>&nbsp;</td><td>The event response data retrieved from the dataplane. --------------------------------------------------------------------------- </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="4b3dfa791d981f5ffd65d52efa74adb8"></a><!-- doxytag: member="vqec_upcall_event.c::VQEC_UPCALL_SOCKET_BASEDIR" ref="4b3dfa791d981f5ffd65d52efa74adb8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VQEC_UPCALL_SOCKET_BASEDIR&nbsp;&nbsp;&nbsp;&quot;/tmp/&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="1bfc983f631f30f8ed47bfefc7d0d95f"></a><!-- doxytag: member="vqec_upcall_event.c::VQEC_UPCALL_SOCKET_IRQEVENTS" ref="1bfc983f631f30f8ed47bfefc7d0d95f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VQEC_UPCALL_SOCKET_IRQEVENTS&nbsp;&nbsp;&nbsp;&quot;.vqec_irqsk&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="82fe384ab03ee41ca42838d4062c90e2"></a><!-- doxytag: member="vqec_upcall_event.c::VQEC_UPCALL_SOCKET_RX_PAKEJECT" ref="82fe384ab03ee41ca42838d4062c90e2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VQEC_UPCALL_SOCKET_RX_PAKEJECT&nbsp;&nbsp;&nbsp;&quot;.vqec_paksk&quot;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="983e701125b42492941c93c97d238da7"></a><!-- doxytag: member="vqec_upcall_event.c::upcall_evt_handler" ref="983e701125b42492941c93c97d238da7" args="(const vqec_event_t *const, int32_t, int16_t, void *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(*) <a class="el" href="vqec__upcall__event_8c.html#983e701125b42492941c93c97d238da7">upcall_evt_handler</a>(const vqec_event_t *const, int32_t, int16_t, void *)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
--------------------------------------------------------------------------- Setup a socket which receives unsolicited messages from the dataplane, and register the socket with libevent.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>un_sock_path</em>&nbsp;</td><td>Pathname for the named socket. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>desc</em>&nbsp;</td><td>Upcall socket data descriptor. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>handler</em>&nbsp;</td><td>Socket event handler. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>vqec_error_t</em>&nbsp;</td><td>Returns VQEC_OK on success. --------------------------------------------------------------------------- </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="2e5d4040d68a79492c0b8580714645e5"></a><!-- doxytag: member="vqec_upcall_event.c::vqec_upcall_chan_dev_attrib_t" ref="2e5d4040d68a79492c0b8580714645e5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structvqec__upcall__chan__dev__attrib__.html">vqec_upcall_chan_dev_attrib_</a>  <a class="el" href="structvqec__upcall__chan__dev__attrib__.html">vqec_upcall_chan_dev_attrib_t</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Upcall interrupting device attributes: for internal use within the control-plane channel module. 
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="e127266eb30c7584fa785be20ccb6fe5"></a><!-- doxytag: member="vqec_upcall_event.c::vqec_setup_upc_socket" ref="e127266eb30c7584fa785be20ccb6fe5" args="(char *un_sock_path, struct vqec_upcall_sock_desc *desc, upcall_evt_handler handler)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static vqec_error_t vqec_setup_upc_socket           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>un_sock_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structvqec__upcall__sock__desc.html">vqec_upcall_sock_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="vqec__upcall__event_8c.html#983e701125b42492941c93c97d238da7">upcall_evt_handler</a>&nbsp;</td>
          <td class="paramname"> <em>handler</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="3c5b1ce6d0200d407732d407606fdfb7"></a><!-- doxytag: member="vqec_upcall_event.c::vqec_upcall_chan_ack_irq" ref="3c5b1ce6d0200d407732d407606fdfb7" args="(vqec_dp_chanid_t chid, vqec_dp_upcall_device_t device, vqec_dp_streamid_t device_id, vqec_dp_irq_ack_resp_t *resp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static boolean vqec_upcall_chan_ack_irq           </td>
          <td>(</td>
          <td class="paramtype">vqec_dp_chanid_t&nbsp;</td>
          <td class="paramname"> <em>chid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vqec_dp_upcall_device_t&nbsp;</td>
          <td class="paramname"> <em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vqec_dp_streamid_t&nbsp;</td>
          <td class="paramname"> <em>device_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vqec_dp_irq_ack_resp_t *&nbsp;</td>
          <td class="paramname"> <em>resp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
--------------------------------------------------------------------------- Acknowledge an IRQ, and retrieve the event data associated with it.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>chid</em>&nbsp;</td><td>Identifier of the channel for which the IRQ is acknowledged. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>device</em>&nbsp;</td><td>Type of the device for which the IRQ is being acknowledged. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>device_id</em>&nbsp;</td><td>Dataplane identifier of the device for which the IRQ is acknowledged. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>resp</em>&nbsp;</td><td>Response data for the IRQ event. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>booelan</em>&nbsp;</td><td>Returns true if the ACK succeeds. --------------------------------------------------------------------------- </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="5cbd1ced1597e18287d1e0983d889231"></a><!-- doxytag: member="vqec_upcall_event.c::vqec_upcall_chan_event" ref="5cbd1ced1597e18287d1e0983d889231" args="(vqec_chan_t *chan, vqec_upcall_chan_dev_attrib_t *attrib, vqec_dp_irq_ack_resp_t *irq_resp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void vqec_upcall_chan_event           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structvqec__chan__.html">vqec_chan_t</a> *&nbsp;</td>
          <td class="paramname"> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvqec__upcall__chan__dev__attrib__.html">vqec_upcall_chan_dev_attrib_t</a> *&nbsp;</td>
          <td class="paramname"> <em>attrib</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vqec_dp_irq_ack_resp_t *&nbsp;</td>
          <td class="paramname"> <em>irq_resp</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="72bbd4ccbd8ec91774a8d650978cd5f4"></a><!-- doxytag: member="vqec_upcall_event.c::vqec_upcall_chan_event_batch" ref="72bbd4ccbd8ec91774a8d650978cd5f4" args="(vqec_chan_t *chan, vqec_dp_irq_poll_t *irq_poll)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void vqec_upcall_chan_event_batch           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structvqec__chan__.html">vqec_chan_t</a> *&nbsp;</td>
          <td class="paramname"> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vqec_dp_irq_poll_t *&nbsp;</td>
          <td class="paramname"> <em>irq_poll</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
--------------------------------------------------------------------------- Process the event data for all of a dataplane channel's device which is retrieved via a poll IPC.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>chan</em>&nbsp;</td><td>Pointer to the channel instance. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>irq_poll</em>&nbsp;</td><td>The batch event response data retrieved from the dataplane. --------------------------------------------------------------------------- </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="23ab93d8fe83ac6e5fcfbdcd827afd5f"></a><!-- doxytag: member="vqec_upcall_event.c::vqec_upcall_chan_generation_id_verify" ref="23ab93d8fe83ac6e5fcfbdcd827afd5f" args="(vqec_chan_t *chan, uint32_t dp_generation)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static boolean vqec_upcall_chan_generation_id_verify           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structvqec__chan__.html">vqec_chan_t</a> *&nbsp;</td>
          <td class="paramname"> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>dp_generation</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
--------------------------------------------------------------------------- Dataplane channel generation identifiers. These are assigned when the dpchan is created and remain constant throughout it's lifetime. --------------------------------------------------------------------------- 
</div>
</div><p>
<a class="anchor" name="bc742cbb3e686707780af369beb9ce02"></a><!-- doxytag: member="vqec_upcall_event.c::vqec_upcall_chan_get_generation_id" ref="bc742cbb3e686707780af369beb9ce02" args="(vqec_chan_t *chan)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t vqec_upcall_chan_get_generation_id           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structvqec__chan__.html">vqec_chan_t</a> *&nbsp;</td>
          <td class="paramname"> <em>chan</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="6b0f0c8a42125f47a809aa63ed3ce298"></a><!-- doxytag: member="vqec_upcall_event.c::vqec_upcall_chan_poll_irq" ref="6b0f0c8a42125f47a809aa63ed3ce298" args="(vqec_dp_chanid_t chid, vqec_dp_irq_poll_t *poll)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static boolean vqec_upcall_chan_poll_irq           </td>
          <td>(</td>
          <td class="paramtype">vqec_dp_chanid_t&nbsp;</td>
          <td class="paramname"> <em>chid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vqec_dp_irq_poll_t *&nbsp;</td>
          <td class="paramname"> <em>poll</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
--------------------------------------------------------------------------- Poll / clear all pending IRQs in the dataplane , and retrieve the event data associated with them.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>chid</em>&nbsp;</td><td>Dataplane identifier of the channel being polled. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>poll</em>&nbsp;</td><td>Poll API data structure. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>boolean</em>&nbsp;</td><td>Returns TRUE if the poll action succeeds. --------------------------------------------------------------------------- </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="0309081af62e2ac77acef166e7edcd7f"></a><!-- doxytag: member="vqec_upcall_event.c::vqec_upcall_chan_update_msg_generation_num" ref="0309081af62e2ac77acef166e7edcd7f" args="(vqec_chan_t *chan, uint32_t cur_generation_num)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static boolean vqec_upcall_chan_update_msg_generation_num           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structvqec__chan__.html">vqec_chan_t</a> *&nbsp;</td>
          <td class="paramname"> <em>chan</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>cur_generation_num</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
--------------------------------------------------------------------------- Update the upcall message sequence generation (sequence number).<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>chan</em>&nbsp;</td><td>Pointer to the channel object. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>cur_generation_num</em>&nbsp;</td><td>The current message generation number read from an incoming upcall event. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>boolean</em>&nbsp;</td><td>Returns true if the current message generation number is equal to the last message generation number plus one. --------------------------------------------------------------------------- </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="020466839798c4aa443c388dfe065188"></a><!-- doxytag: member="vqec_upcall_event.c::vqec_upcall_close_unsocks" ref="020466839798c4aa443c388dfe065188" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vqec_upcall_close_unsocks           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
--------------------------------------------------------------------------- Close existing unix sockets. The inodes created in the "/tmp" directory are destroyed via the "unlink" system call. --------------------------------------------------------------------------- 
</div>
</div><p>
<a class="anchor" name="89aa449aa46af41691afbac0cec9e4fa"></a><!-- doxytag: member="vqec_upcall_event.c::vqec_upcall_display_desc_state" ref="89aa449aa46af41691afbac0cec9e4fa" args="(struct vqec_upcall_sock_desc *desc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void vqec_upcall_display_desc_state           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvqec__upcall__sock__desc.html">vqec_upcall_sock_desc</a> *&nbsp;</td>
          <td class="paramname"> <em>desc</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
--------------------------------------------------------------------------- Implementation of the global upcall display per socket descriptor.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>desc</em>&nbsp;</td><td>Upcall socket descriptor state. --------------------------------------------------------------------------- </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="d5111e800a4f6f9011aacefd7e9166d7"></a><!-- doxytag: member="vqec_upcall_event.c::vqec_upcall_display_state" ref="d5111e800a4f6f9011aacefd7e9166d7" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vqec_upcall_display_state           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
--------------------------------------------------------------------------- Display global upcall state. --------------------------------------------------------------------------- 
</div>
</div><p>
<a class="anchor" name="207938bf1386db00331677bfd9d03266"></a><!-- doxytag: member="vqec_upcall_event.c::vqec_upcall_event_irq" ref="207938bf1386db00331677bfd9d03266" args="(const vqec_event_t *const ev, int32_t fd, int16_t event, void *unused_dptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void vqec_upcall_event_irq           </td>
          <td>(</td>
          <td class="paramtype">const vqec_event_t *const &nbsp;</td>
          <td class="paramname"> <em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&nbsp;</td>
          <td class="paramname"> <em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>unused_dptr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="5c919a4bc80e0344385edb9a63653850"></a><!-- doxytag: member="vqec_upcall_event.c::vqec_upcall_event_pak_eject" ref="5c919a4bc80e0344385edb9a63653850" args="(const vqec_event_t *const ev, int32_t fd, int16_t event, void *unused_dptr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void vqec_upcall_event_pak_eject           </td>
          <td>(</td>
          <td class="paramtype">const vqec_event_t *const &nbsp;</td>
          <td class="paramname"> <em>ev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&nbsp;</td>
          <td class="paramname"> <em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>unused_dptr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
--------------------------------------------------------------------------- Event handler for "punted" or "ejected" packets from the dataplane. In the current implementation only NAT packets are supported.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>ev</em>&nbsp;</td><td>Pointer to the libevent event. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>fd</em>&nbsp;</td><td>File descriptor of the socket. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>event</em>&nbsp;</td><td>Socket event. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>unused_dptr</em>&nbsp;</td><td>Unused. --------------------------------------------------------------------------- </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="8dcef1adeb6f7c926620a5d0317eef82"></a><!-- doxytag: member="vqec_upcall_event.c::vqec_upcall_generation_num_le" ref="8dcef1adeb6f7c926620a5d0317eef82" args="(uint32_t cur, uint32_t last)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static boolean vqec_upcall_generation_num_le           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>cur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>last</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="2f4a8fcca9020fae5255a967c2f54f14"></a><!-- doxytag: member="vqec_upcall_event.c::vqec_upcall_get_irq_stats" ref="2f4a8fcca9020fae5255a967c2f54f14" args="(vqec_upcall_ev_stats_t *stats)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vqec_upcall_get_irq_stats           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structvqec__upcall__ev__stats__.html">vqec_upcall_ev_stats_t</a> *&nbsp;</td>
          <td class="paramname"> <em>stats</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
--------------------------------------------------------------------------- Get IRQ event statistics - used for unit-tests.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>stats</em>&nbsp;</td><td>Pointer to the stats structure. --------------------------------------------------------------------------- </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="ae140b5d1eb4c411a3c933d07117d858"></a><!-- doxytag: member="vqec_upcall_event.c::vqec_upcall_process_irq_event" ref="ae140b5d1eb4c411a3c933d07117d858" args="(char *p_buf, uint16_t len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void vqec_upcall_process_irq_event           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>p_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
--------------------------------------------------------------------------- Process an upcall IRQ event from the dataplane.<p>
------------- | API version (fixed length) ------------- | IRQ event structure (fixed length) -------------<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>p_buf</em>&nbsp;</td><td>Pointer to the input data buffer. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>len</em>&nbsp;</td><td>Length of the input. --------------------------------------------------------------------------- </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="2c765af9da16410e1b6cdfa7a574f93b"></a><!-- doxytag: member="vqec_upcall_event.c::vqec_upcall_process_nat_pak" ref="2c765af9da16410e1b6cdfa7a574f93b" args="(char *nat_pak, uint16_t len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vqec_upcall_process_nat_pak           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>nat_pak</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
--------------------------------------------------------------------------- Process a NAT packet from the dataplane. The packet is sanity checked and then delivered to the channel for further processing. NOTE: The frequency of NAT packets should be very low, hence per packet debugs are seen as ok.<p>
------------- | API version (fixed length) ------------- | Packet header (fixed length) ------------- | Packet contents (variable length) -------------<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>nat_pak</em>&nbsp;</td><td>Pointer to the NAT packet. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>len</em>&nbsp;</td><td>Length of the NAT packet. --------------------------------------------------------------------------- </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="cfbbc0c42c4490669d7ca9020d3737bc"></a><!-- doxytag: member="vqec_upcall_event.c::vqec_upcall_setup_irqsock" ref="cfbbc0c42c4490669d7ca9020d3737bc" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static vqec_error_t vqec_upcall_setup_irqsock           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="1a0532545466e26383cdfa71fb2876ea"></a><!-- doxytag: member="vqec_upcall_event.c::vqec_upcall_setup_pak_ejectsock" ref="1a0532545466e26383cdfa71fb2876ea" args="(uint32_t max_paksize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static vqec_error_t vqec_upcall_setup_pak_ejectsock           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>max_paksize</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
--------------------------------------------------------------------------- Setup the packet "punt" or "eject" socket, which receives NAT packets (in this implementation) that were received on RTP session(s) in the dataplane.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>max_paksize</em>&nbsp;</td><td>Maximum packet size bound for "punted" or "ejected" packets received from the dataplane. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>vqec_error_t</em>&nbsp;</td><td>Returns VQEC_OK if the socket is setup successfully, error code otherwise. --------------------------------------------------------------------------- </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="d59208eecf5b3dafa404cf8438b25f66"></a><!-- doxytag: member="vqec_upcall_event.c::vqec_upcall_setup_unsocks" ref="d59208eecf5b3dafa404cf8438b25f66" args="(uint32_t max_paksize)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vqec_error_t vqec_upcall_setup_unsocks           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>max_paksize</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
--------------------------------------------------------------------------- Upcall socket setup.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>max_paksize</em>&nbsp;</td><td>Maximum packet size bound for "punted" or "ejected" packets received from the dataplane. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>vqec_error_t</em>&nbsp;</td><td>Returns VQEC_OK if the sockets are setup successfully, error code otherwise. --------------------------------------------------------------------------- </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="763200cb9a31789752f48aa07ca10c71"></a><!-- doxytag: member="vqec_upcall_event.c::s_upcall_pak_ejectsock" ref="763200cb9a31789752f48aa07ca10c71" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structvqec__upcall__sock__desc.html">vqec_upcall_sock_desc</a> s_upcall_irqsock <a class="el" href="vqec__upcall__event_8c.html#763200cb9a31789752f48aa07ca10c71">s_upcall_pak_ejectsock</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Mon Aug 20 17:45:07 2012 for VQE-C by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
