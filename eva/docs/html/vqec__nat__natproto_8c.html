<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>VQE-C: vqec_nat_natproto.c File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>vqec_nat_natproto.c File Reference</h1><code>#include &lt;stunclient/vqec_nat_api.h&gt;</code><br>
<code>#include &lt;utils/vam_util.h&gt;</code><br>
<code>#include &lt;utils/queue_plus.h&gt;</code><br>
<code>#include &lt;utils/id_manager.h&gt;</code><br>
<code>#include &lt;utils/zone_mgr.h&gt;</code><br>
<code>#include &lt;string.h&gt;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structvqec__nat__natproto__bind__.html">vqec_nat_natproto_bind_</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__nat__natproto_8c.html#71c9d20f2b90f18f899261d94e771f57">NATPROTO_HASH_BUCKETS</a>&nbsp;&nbsp;&nbsp;8</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__nat__natproto_8c.html#b468ed777a6128578c09b4609e6944f0">NATPROTO_HASH_MASK</a>&nbsp;&nbsp;&nbsp;(NATPROTO_HASH_BUCKETS - 1)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__nat__natproto_8c.html#64f5fa1cf3c4c1d51022c23dd40dbcb9">NAT_IDTABLE_BUCKETS</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__nat__natproto_8c.html#b4ec4fd0169de62b3afbc650db17684f">NAT_NATPROTO_MAX_BUFSIZE</a>&nbsp;&nbsp;&nbsp;1514</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef vqe_zone&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__nat__natproto_8c.html#7482793d9e7ed1881ac3701943261da1">vqec_nat_natproto_pool_t</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="structvqec__nat__natproto__bind__.html">vqec_nat_natproto_bind_</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__nat__natproto_8c.html#7b00f50d7b059b7a510eb246a6614ca6">vqec_nat_natproto_bind_t</a></td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__nat__natproto_8c.html#46a5d41ca36cce28e2705512efd322a3">VQE_TAILQ_HEAD</a> (nat_list_, <a class="el" href="structvqec__nat__natproto__bind__.html">vqec_nat_natproto_bind_</a>)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__nat__natproto_8c.html#ee1a38bea6b6959b04628df6c182209b">vqec_nat_proto_hash</a> (uint16_t port)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__nat__natproto_8c.html#99871884df024459dbb8fba4b7aec83c">vqec_nat_natproto_destroy</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static boolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__nat__natproto_8c.html#2f9ddd2c3ebc439a98e56eef8db82669">vqec_nat_natproto_create</a> (vqec_nat_init_params_t *params)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static boolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__nat__natproto_8c.html#261af32fb1b0da5bedaa967988468e2a">vqec_nat_natproto_is_same_binding</a> (vqec_nat_bind_desc_t *desc1, vqec_nat_bind_desc_t *desc2)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static vqec_nat_bindid_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__nat__natproto_8c.html#404efe64d4aae2cb8370dc87f474e450">vqec_nat_natproto_find_internal</a> (vqec_nat_bind_desc_t *desc)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static vqec_nat_bindid_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__nat__natproto_8c.html#1929976ff61736d21ebb3662de253ffc">vqec_nat_natproto_open</a> (vqec_nat_bind_desc_t *desc)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__nat__natproto_8c.html#cdf2e1d84766a8fa6f87424c7a1eee67">vqec_nat_natproto_close</a> (vqec_nat_bindid_t id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static boolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__nat__natproto_8c.html#4217456fc0436004935341d52881c419">vqec_nat_natproto_query</a> (vqec_nat_bindid_t id, vqec_nat_bind_data_t *data, boolean refresh)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__nat__natproto_8c.html#a820b8ec3fd9a3ee70bde1056465bb84">vqec_nat_natproto_state</a> (<a class="el" href="structvqec__nat__natproto__bind__.html">vqec_nat_natproto_bind_t</a> *p_bind)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__nat__natproto_8c.html#85cc060628dba4c9d147591e0eb2e585">vqec_nat_natproto_fprint</a> (vqec_nat_bindid_t id)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__nat__natproto_8c.html#2cb781ee67e91efef461e2c6ee4fa9d3">vqec_nat_natproto_fprint_all</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__nat__natproto_8c.html#31108135edbfb77102b9f81ed4c898cd">vqec_nat_natproto_eject</a> (vqec_nat_bindid_t id, char *buf, uint16_t len, in_addr_t source_ip, in_port_t source_port)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__nat__natproto_8c.html#dc9ff90c920515de978ddd8f9b04bda3">vqec_nat_natproto_debug_set</a> (boolean verbose)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__nat__natproto_8c.html#5f0cfa868caa5bb89e90ededa7a6d8bc">vqec_nat_natproto_debug_clr</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static boolean&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__nat__natproto_8c.html#67cb233d67c5800aba47c7bd69ec3926">vqec_nat_natproto_is_behind_nat</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const vqec_nat_proto_if_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__nat__natproto_8c.html#d3f5cc9b53b4734787b2a0914f44a77b">vqec_nat_get_if_natproto</a> (void)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__nat__natproto_8c.html#135f99105c4acba2d47cee73c9f96579">vqec_nat_natproto_t</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="vqec__nat__natproto_8c.html#135f99105c4acba2d47cee73c9f96579">vqec_nat_natproto_t</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__nat__natproto_8c.html#01d1cc286c69d52038a9c8c9c8eb49d1">s_natproto</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static vqec_nat_proto_if_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="vqec__nat__natproto_8c.html#bda64e35ed7738ddfe563e4e0acbb7cb">s_natproto_if</a></td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="64f5fa1cf3c4c1d51022c23dd40dbcb9"></a><!-- doxytag: member="vqec_nat_natproto.c::NAT_IDTABLE_BUCKETS" ref="64f5fa1cf3c4c1d51022c23dd40dbcb9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NAT_IDTABLE_BUCKETS&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
--------------------------------------------------------------------------- Initialize the NAT protocol.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>params</em>&nbsp;</td><td>Protocol configuration parameters. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>Returns</em>&nbsp;</td><td>true on success. --------------------------------------------------------------------------- </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="b4ec4fd0169de62b3afbc650db17684f"></a><!-- doxytag: member="vqec_nat_natproto.c::NAT_NATPROTO_MAX_BUFSIZE" ref="b4ec4fd0169de62b3afbc650db17684f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NAT_NATPROTO_MAX_BUFSIZE&nbsp;&nbsp;&nbsp;1514          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
--------------------------------------------------------------------------- This method delivers a NAT packet ejected from the RTP or RTCP streams to the NAT protocol for processing.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>id</em>&nbsp;</td><td>Identifier of the binding on which the packet is received. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buf</em>&nbsp;</td><td>Pointer to the packet's content buffer. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>len</em>&nbsp;</td><td>Length of the buffer. --------------------------------------------------------------------------- </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="71c9d20f2b90f18f899261d94e771f57"></a><!-- doxytag: member="vqec_nat_natproto.c::NATPROTO_HASH_BUCKETS" ref="71c9d20f2b90f18f899261d94e771f57" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NATPROTO_HASH_BUCKETS&nbsp;&nbsp;&nbsp;8          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="b468ed777a6128578c09b4609e6944f0"></a><!-- doxytag: member="vqec_nat_natproto.c::NATPROTO_HASH_MASK" ref="b468ed777a6128578c09b4609e6944f0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NATPROTO_HASH_MASK&nbsp;&nbsp;&nbsp;(NATPROTO_HASH_BUCKETS - 1)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="7b00f50d7b059b7a510eb246a6614ca6"></a><!-- doxytag: member="vqec_nat_natproto.c::vqec_nat_natproto_bind_t" ref="7b00f50d7b059b7a510eb246a6614ca6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structvqec__nat__natproto__bind__.html">vqec_nat_natproto_bind_</a>  <a class="el" href="structvqec__nat__natproto__bind__.html">vqec_nat_natproto_bind_t</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="7482793d9e7ed1881ac3701943261da1"></a><!-- doxytag: member="vqec_nat_natproto.c::vqec_nat_natproto_pool_t" ref="7482793d9e7ed1881ac3701943261da1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct vqe_zone <a class="el" href="vqec__nat__natproto_8c.html#7482793d9e7ed1881ac3701943261da1">vqec_nat_natproto_pool_t</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="46a5d41ca36cce28e2705512efd322a3"></a><!-- doxytag: member="vqec_nat_natproto.c::VQE_TAILQ_HEAD" ref="46a5d41ca36cce28e2705512efd322a3" args="(nat_list_, vqec_nat_natproto_bind_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef VQE_TAILQ_HEAD           </td>
          <td>(</td>
          <td class="paramtype">nat_list_&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structvqec__nat__natproto__bind__.html">vqec_nat_natproto_bind_</a>&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="d3f5cc9b53b4734787b2a0914f44a77b"></a><!-- doxytag: member="vqec_nat_natproto.c::vqec_nat_get_if_natproto" ref="d3f5cc9b53b4734787b2a0914f44a77b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const vqec_nat_proto_if_t* vqec_nat_get_if_natproto           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="cdf2e1d84766a8fa6f87424c7a1eee67"></a><!-- doxytag: member="vqec_nat_natproto.c::vqec_nat_natproto_close" ref="cdf2e1d84766a8fa6f87424c7a1eee67" args="(vqec_nat_bindid_t id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void vqec_nat_natproto_close           </td>
          <td>(</td>
          <td class="paramtype">vqec_nat_bindid_t&nbsp;</td>
          <td class="paramname"> <em>id</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
--------------------------------------------------------------------------- Close an existing protocol binding.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>id</em>&nbsp;</td><td>Identifier of the binding to be closed. --------------------------------------------------------------------------- </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="2f9ddd2c3ebc439a98e56eef8db82669"></a><!-- doxytag: member="vqec_nat_natproto.c::vqec_nat_natproto_create" ref="2f9ddd2c3ebc439a98e56eef8db82669" args="(vqec_nat_init_params_t *params)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static boolean vqec_nat_natproto_create           </td>
          <td>(</td>
          <td class="paramtype">vqec_nat_init_params_t *&nbsp;</td>
          <td class="paramname"> <em>params</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="5f0cfa868caa5bb89e90ededa7a6d8bc"></a><!-- doxytag: member="vqec_nat_natproto.c::vqec_nat_natproto_debug_clr" ref="5f0cfa868caa5bb89e90ededa7a6d8bc" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void vqec_nat_natproto_debug_clr           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
--------------------------------------------------------------------------- Disable debug for NAT. --------------------------------------------------------------------------- 
</div>
</div><p>
<a class="anchor" name="dc9ff90c920515de978ddd8f9b04bda3"></a><!-- doxytag: member="vqec_nat_natproto.c::vqec_nat_natproto_debug_set" ref="dc9ff90c920515de978ddd8f9b04bda3" args="(boolean verbose)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void vqec_nat_natproto_debug_set           </td>
          <td>(</td>
          <td class="paramtype">boolean&nbsp;</td>
          <td class="paramname"> <em>verbose</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
--------------------------------------------------------------------------- Enable debug for NAT.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>verbose</em>&nbsp;</td><td>Controls verbose mode for debugging. --------------------------------------------------------------------------- </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="99871884df024459dbb8fba4b7aec83c"></a><!-- doxytag: member="vqec_nat_natproto.c::vqec_nat_natproto_destroy" ref="99871884df024459dbb8fba4b7aec83c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void vqec_nat_natproto_destroy           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
--------------------------------------------------------------------------- Destroy the protocol, and release all allocated objects. --------------------------------------------------------------------------- 
</div>
</div><p>
<a class="anchor" name="31108135edbfb77102b9f81ed4c898cd"></a><!-- doxytag: member="vqec_nat_natproto.c::vqec_nat_natproto_eject" ref="31108135edbfb77102b9f81ed4c898cd" args="(vqec_nat_bindid_t id, char *buf, uint16_t len, in_addr_t source_ip, in_port_t source_port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void vqec_nat_natproto_eject           </td>
          <td>(</td>
          <td class="paramtype">vqec_nat_bindid_t&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in_addr_t&nbsp;</td>
          <td class="paramname"> <em>source_ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">in_port_t&nbsp;</td>
          <td class="paramname"> <em>source_port</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="404efe64d4aae2cb8370dc87f474e450"></a><!-- doxytag: member="vqec_nat_natproto.c::vqec_nat_natproto_find_internal" ref="404efe64d4aae2cb8370dc87f474e450" args="(vqec_nat_bind_desc_t *desc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static vqec_nat_bindid_t vqec_nat_natproto_find_internal           </td>
          <td>(</td>
          <td class="paramtype">vqec_nat_bind_desc_t *&nbsp;</td>
          <td class="paramname"> <em>desc</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="85cc060628dba4c9d147591e0eb2e585"></a><!-- doxytag: member="vqec_nat_natproto.c::vqec_nat_natproto_fprint" ref="85cc060628dba4c9d147591e0eb2e585" args="(vqec_nat_bindid_t id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void vqec_nat_natproto_fprint           </td>
          <td>(</td>
          <td class="paramtype">vqec_nat_bindid_t&nbsp;</td>
          <td class="paramname"> <em>id</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
--------------------------------------------------------------------------- Print information about one binding.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>id</em>&nbsp;</td><td>Identifier of the binding. --------------------------------------------------------------------------- </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="2cb781ee67e91efef461e2c6ee4fa9d3"></a><!-- doxytag: member="vqec_nat_natproto.c::vqec_nat_natproto_fprint_all" ref="2cb781ee67e91efef461e2c6ee4fa9d3" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void vqec_nat_natproto_fprint_all           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
--------------------------------------------------------------------------- Print information about all bindings. --------------------------------------------------------------------------- 
</div>
</div><p>
<a class="anchor" name="67cb233d67c5800aba47c7bd69ec3926"></a><!-- doxytag: member="vqec_nat_natproto.c::vqec_nat_natproto_is_behind_nat" ref="67cb233d67c5800aba47c7bd69ec3926" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static boolean vqec_nat_natproto_is_behind_nat           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
--------------------------------------------------------------------------- Is the device behind a NAT.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>boolean</em>&nbsp;</td><td>Returns true if the device is behind a NAT. --------------------------------------------------------------------------- </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="261af32fb1b0da5bedaa967988468e2a"></a><!-- doxytag: member="vqec_nat_natproto.c::vqec_nat_natproto_is_same_binding" ref="261af32fb1b0da5bedaa967988468e2a" args="(vqec_nat_bind_desc_t *desc1, vqec_nat_bind_desc_t *desc2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static boolean vqec_nat_natproto_is_same_binding           </td>
          <td>(</td>
          <td class="paramtype">vqec_nat_bind_desc_t *&nbsp;</td>
          <td class="paramname"> <em>desc1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vqec_nat_bind_desc_t *&nbsp;</td>
          <td class="paramname"> <em>desc2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
--------------------------------------------------------------------------- Find an existing binding based on 4-tuple lookup.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>desc</em>&nbsp;</td><td>Attributes of the binding to be searched. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>vqec_nat_bindid_t</em>&nbsp;</td><td>A valid id if the binding exists, invalid handle otherwise. --------------------------------------------------------------------------- </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="1929976ff61736d21ebb3662de253ffc"></a><!-- doxytag: member="vqec_nat_natproto.c::vqec_nat_natproto_open" ref="1929976ff61736d21ebb3662de253ffc" args="(vqec_nat_bind_desc_t *desc)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static vqec_nat_bindid_t vqec_nat_natproto_open           </td>
          <td>(</td>
          <td class="paramtype">vqec_nat_bind_desc_t *&nbsp;</td>
          <td class="paramname"> <em>desc</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
--------------------------------------------------------------------------- Open a new protocol binding.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>desc</em>&nbsp;</td><td>Descriptor which specifies the binding. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>vqec_nat_bindid_t</em>&nbsp;</td><td>An identifier which can then be used to refer to the binding. If no identifier can be allocated, an Invalid id is returned. --------------------------------------------------------------------------- </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="4217456fc0436004935341d52881c419"></a><!-- doxytag: member="vqec_nat_natproto.c::vqec_nat_natproto_query" ref="4217456fc0436004935341d52881c419" args="(vqec_nat_bindid_t id, vqec_nat_bind_data_t *data, boolean refresh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static boolean vqec_nat_natproto_query           </td>
          <td>(</td>
          <td class="paramtype">vqec_nat_bindid_t&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vqec_nat_bind_data_t *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boolean&nbsp;</td>
          <td class="paramname"> <em>refresh</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
--------------------------------------------------------------------------- Query the latest mapping for an existing binding.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>id</em>&nbsp;</td><td>Identifier of the binding queried. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>data</em>&nbsp;</td><td>Pointer to the data associated with the mapping. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>refresh</em>&nbsp;</td><td>If the binding should be refreshed: no action. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>boolean</em>&nbsp;</td><td>Returns true ifthe id is for a valid binding. --------------------------------------------------------------------------- </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="a820b8ec3fd9a3ee70bde1056465bb84"></a><!-- doxytag: member="vqec_nat_natproto.c::vqec_nat_natproto_state" ref="a820b8ec3fd9a3ee70bde1056465bb84" args="(vqec_nat_natproto_bind_t *p_bind)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static const char* vqec_nat_natproto_state           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structvqec__nat__natproto__bind__.html">vqec_nat_natproto_bind_t</a> *&nbsp;</td>
          <td class="paramname"> <em>p_bind</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
--------------------------------------------------------------------------- A character string representing the current discovered nat state.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>p_bind</em>&nbsp;</td><td>Pointer to the NAT binding. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>char*</em>&nbsp;</td><td>Pointer to a constant string representing the state of the binding. --------------------------------------------------------------------------- </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="ee1a38bea6b6959b04628df6c182209b"></a><!-- doxytag: member="vqec_nat_natproto.c::vqec_nat_proto_hash" ref="ee1a38bea6b6959b04628df6c182209b" args="(uint16_t port)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t vqec_nat_proto_hash           </td>
          <td>(</td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>port</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
--------------------------------------------------------------------------- Simple hash function on ports. --------------------------------------------------------------------------- 
</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="01d1cc286c69d52038a9c8c9c8eb49d1"></a><!-- doxytag: member="vqec_nat_natproto.c::s_natproto" ref="01d1cc286c69d52038a9c8c9c8eb49d1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vqec__nat__natproto_8c.html#135f99105c4acba2d47cee73c9f96579">vqec_nat_natproto_t</a> <a class="el" href="vqec__nat__natproto_8c.html#01d1cc286c69d52038a9c8c9c8eb49d1">s_natproto</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="bda64e35ed7738ddfe563e4e0acbb7cb"></a><!-- doxytag: member="vqec_nat_natproto.c::s_natproto_if" ref="bda64e35ed7738ddfe563e4e0acbb7cb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vqec_nat_proto_if_t <a class="el" href="vqec__nat__natproto_8c.html#bda64e35ed7738ddfe563e4e0acbb7cb">s_natproto_if</a><code> [static]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment"> 
{

    .create = <a class="code" href="vqec__nat__natproto_8c.html#2f9ddd2c3ebc439a98e56eef8db82669">vqec_nat_natproto_create</a>,
    .destroy = <a class="code" href="vqec__nat__natproto_8c.html#99871884df024459dbb8fba4b7aec83c">vqec_nat_natproto_destroy</a>,
    .open = <a class="code" href="vqec__nat__natproto_8c.html#1929976ff61736d21ebb3662de253ffc">vqec_nat_natproto_open</a>,
    .close = <a class="code" href="vqec__nat__natproto_8c.html#cdf2e1d84766a8fa6f87424c7a1eee67">vqec_nat_natproto_close</a>,
    .query = <a class="code" href="vqec__nat__natproto_8c.html#4217456fc0436004935341d52881c419">vqec_nat_natproto_query</a>,
    .fprint = <a class="code" href="vqec__nat__natproto_8c.html#85cc060628dba4c9d147591e0eb2e585">vqec_nat_natproto_fprint</a>,
    .fprint_all = <a class="code" href="vqec__nat__natproto_8c.html#2cb781ee67e91efef461e2c6ee4fa9d3">vqec_nat_natproto_fprint_all</a>,
    .eject_rx = <a class="code" href="vqec__nat__natproto_8c.html#31108135edbfb77102b9f81ed4c898cd">vqec_nat_natproto_eject</a>,
    .debug_set = <a class="code" href="vqec__nat__natproto_8c.html#dc9ff90c920515de978ddd8f9b04bda3">vqec_nat_natproto_debug_set</a>,
    .debug_clr = <a class="code" href="vqec__nat__natproto_8c.html#5f0cfa868caa5bb89e90ededa7a6d8bc">vqec_nat_natproto_debug_clr</a>,
    .is_behind_nat = <a class="code" href="vqec__nat__natproto_8c.html#67cb233d67c5800aba47c7bd69ec3926">vqec_nat_natproto_is_behind_nat</a>

}
</pre></div>--------------------------------------------------------------------------- Interface definition. --------------------------------------------------------------------------- 
</div>
</div><p>
<a class="anchor" name="135f99105c4acba2d47cee73c9f96579"></a><!-- doxytag: member="vqec_nat_natproto.c::vqec_nat_natproto_t" ref="135f99105c4acba2d47cee73c9f96579" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="vqec__nat__natproto_8c.html#135f99105c4acba2d47cee73c9f96579">vqec_nat_natproto_t</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Mon Aug 20 17:45:07 2012 for VQE-C by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
