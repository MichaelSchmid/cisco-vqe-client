\section{vqec\_\-nat\_\-natproto.c File Reference}
\label{vqec__nat__natproto_8c}\index{vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}}
{\tt \#include $<$stunclient/vqec\_\-nat\_\-api.h$>$}\par
{\tt \#include $<$utils/vam\_\-util.h$>$}\par
{\tt \#include $<$utils/queue\_\-plus.h$>$}\par
{\tt \#include $<$utils/id\_\-manager.h$>$}\par
{\tt \#include $<$utils/zone\_\-mgr.h$>$}\par
{\tt \#include $<$string.h$>$}\par
\subsection*{Data Structures}
\begin{CompactItemize}
\item 
struct \bf{vqec\_\-nat\_\-natproto\_\-bind\_\-}
\end{CompactItemize}
\subsection*{Defines}
\begin{CompactItemize}
\item 
\#define \bf{NATPROTO\_\-HASH\_\-BUCKETS}~8
\item 
\#define \bf{NATPROTO\_\-HASH\_\-MASK}~(NATPROTO\_\-HASH\_\-BUCKETS - 1)
\item 
\#define \bf{NAT\_\-IDTABLE\_\-BUCKETS}~1
\item 
\#define \bf{NAT\_\-NATPROTO\_\-MAX\_\-BUFSIZE}~1514
\end{CompactItemize}
\subsection*{Typedefs}
\begin{CompactItemize}
\item 
typedef vqe\_\-zone \bf{vqec\_\-nat\_\-natproto\_\-pool\_\-t}
\item 
typedef \bf{vqec\_\-nat\_\-natproto\_\-bind\_\-} \bf{vqec\_\-nat\_\-natproto\_\-bind\_\-t}
\end{CompactItemize}
\subsection*{Functions}
\begin{CompactItemize}
\item 
typedef \bf{VQE\_\-TAILQ\_\-HEAD} (nat\_\-list\_\-, \bf{vqec\_\-nat\_\-natproto\_\-bind\_\-})
\item 
static uint16\_\-t \bf{vqec\_\-nat\_\-proto\_\-hash} (uint16\_\-t port)
\item 
static void \bf{vqec\_\-nat\_\-natproto\_\-destroy} (void)
\item 
static boolean \bf{vqec\_\-nat\_\-natproto\_\-create} (vqec\_\-nat\_\-init\_\-params\_\-t $\ast$params)
\item 
static boolean \bf{vqec\_\-nat\_\-natproto\_\-is\_\-same\_\-binding} (vqec\_\-nat\_\-bind\_\-desc\_\-t $\ast$desc1, vqec\_\-nat\_\-bind\_\-desc\_\-t $\ast$desc2)
\item 
static vqec\_\-nat\_\-bindid\_\-t \bf{vqec\_\-nat\_\-natproto\_\-find\_\-internal} (vqec\_\-nat\_\-bind\_\-desc\_\-t $\ast$desc)
\item 
static vqec\_\-nat\_\-bindid\_\-t \bf{vqec\_\-nat\_\-natproto\_\-open} (vqec\_\-nat\_\-bind\_\-desc\_\-t $\ast$desc)
\item 
static void \bf{vqec\_\-nat\_\-natproto\_\-close} (vqec\_\-nat\_\-bindid\_\-t id)
\item 
static boolean \bf{vqec\_\-nat\_\-natproto\_\-query} (vqec\_\-nat\_\-bindid\_\-t id, vqec\_\-nat\_\-bind\_\-data\_\-t $\ast$data, boolean refresh)
\item 
static const char $\ast$ \bf{vqec\_\-nat\_\-natproto\_\-state} (\bf{vqec\_\-nat\_\-natproto\_\-bind\_\-t} $\ast$p\_\-bind)
\item 
static void \bf{vqec\_\-nat\_\-natproto\_\-fprint} (vqec\_\-nat\_\-bindid\_\-t id)
\item 
static void \bf{vqec\_\-nat\_\-natproto\_\-fprint\_\-all} (void)
\item 
static void \bf{vqec\_\-nat\_\-natproto\_\-eject} (vqec\_\-nat\_\-bindid\_\-t id, char $\ast$buf, uint16\_\-t len, in\_\-addr\_\-t source\_\-ip, in\_\-port\_\-t source\_\-port)
\item 
static void \bf{vqec\_\-nat\_\-natproto\_\-debug\_\-set} (boolean verbose)
\item 
static void \bf{vqec\_\-nat\_\-natproto\_\-debug\_\-clr} (void)
\item 
static boolean \bf{vqec\_\-nat\_\-natproto\_\-is\_\-behind\_\-nat} (void)
\item 
const vqec\_\-nat\_\-proto\_\-if\_\-t $\ast$ \bf{vqec\_\-nat\_\-get\_\-if\_\-natproto} (void)
\end{CompactItemize}
\subsection*{Variables}
\begin{CompactItemize}
\item 
\bf{vqec\_\-nat\_\-natproto\_\-t}
\item 
static \bf{vqec\_\-nat\_\-natproto\_\-t} \bf{s\_\-natproto}
\item 
static vqec\_\-nat\_\-proto\_\-if\_\-t \bf{s\_\-natproto\_\-if}
\end{CompactItemize}


\subsection{Define Documentation}
\index{vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}!NAT_IDTABLE_BUCKETS@{NAT\_\-IDTABLE\_\-BUCKETS}}
\index{NAT_IDTABLE_BUCKETS@{NAT\_\-IDTABLE\_\-BUCKETS}!vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define NAT\_\-IDTABLE\_\-BUCKETS~1}\label{vqec__nat__natproto_8c_64f5fa1cf3c4c1d51022c23dd40dbcb9}


--------------------------------------------------------------------------- Initialize the NAT protocol.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[\mbox{$\leftarrow$} {\em params}]Protocol configuration parameters. \item[\mbox{$\rightarrow$} {\em Returns}]true on success. --------------------------------------------------------------------------- \end{description}
\end{Desc}
\index{vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}!NAT_NATPROTO_MAX_BUFSIZE@{NAT\_\-NATPROTO\_\-MAX\_\-BUFSIZE}}
\index{NAT_NATPROTO_MAX_BUFSIZE@{NAT\_\-NATPROTO\_\-MAX\_\-BUFSIZE}!vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define NAT\_\-NATPROTO\_\-MAX\_\-BUFSIZE~1514}\label{vqec__nat__natproto_8c_b4ec4fd0169de62b3afbc650db17684f}


--------------------------------------------------------------------------- This method delivers a NAT packet ejected from the RTP or RTCP streams to the NAT protocol for processing.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[\mbox{$\leftarrow$} {\em id}]Identifier of the binding on which the packet is received. \item[\mbox{$\leftarrow$} {\em buf}]Pointer to the packet's content buffer. \item[\mbox{$\leftarrow$} {\em len}]Length of the buffer. --------------------------------------------------------------------------- \end{description}
\end{Desc}
\index{vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}!NATPROTO_HASH_BUCKETS@{NATPROTO\_\-HASH\_\-BUCKETS}}
\index{NATPROTO_HASH_BUCKETS@{NATPROTO\_\-HASH\_\-BUCKETS}!vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define NATPROTO\_\-HASH\_\-BUCKETS~8}\label{vqec__nat__natproto_8c_71c9d20f2b90f18f899261d94e771f57}


\index{vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}!NATPROTO_HASH_MASK@{NATPROTO\_\-HASH\_\-MASK}}
\index{NATPROTO_HASH_MASK@{NATPROTO\_\-HASH\_\-MASK}!vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\#define NATPROTO\_\-HASH\_\-MASK~(NATPROTO\_\-HASH\_\-BUCKETS - 1)}\label{vqec__nat__natproto_8c_b468ed777a6128578c09b4609e6944f0}




\subsection{Typedef Documentation}
\index{vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}!vqec_nat_natproto_bind_t@{vqec\_\-nat\_\-natproto\_\-bind\_\-t}}
\index{vqec_nat_natproto_bind_t@{vqec\_\-nat\_\-natproto\_\-bind\_\-t}!vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef struct \bf{vqec\_\-nat\_\-natproto\_\-bind\_\-}  \bf{vqec\_\-nat\_\-natproto\_\-bind\_\-t}}\label{vqec__nat__natproto_8c_7b00f50d7b059b7a510eb246a6614ca6}


\index{vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}!vqec_nat_natproto_pool_t@{vqec\_\-nat\_\-natproto\_\-pool\_\-t}}
\index{vqec_nat_natproto_pool_t@{vqec\_\-nat\_\-natproto\_\-pool\_\-t}!vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef struct vqe\_\-zone \bf{vqec\_\-nat\_\-natproto\_\-pool\_\-t}}\label{vqec__nat__natproto_8c_7482793d9e7ed1881ac3701943261da1}




\subsection{Function Documentation}
\index{vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}!VQE_TAILQ_HEAD@{VQE\_\-TAILQ\_\-HEAD}}
\index{VQE_TAILQ_HEAD@{VQE\_\-TAILQ\_\-HEAD}!vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}typedef VQE\_\-TAILQ\_\-HEAD (nat\_\-list\_\-, \bf{vqec\_\-nat\_\-natproto\_\-bind\_\-})}\label{vqec__nat__natproto_8c_46a5d41ca36cce28e2705512efd322a3}


\index{vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}!vqec_nat_get_if_natproto@{vqec\_\-nat\_\-get\_\-if\_\-natproto}}
\index{vqec_nat_get_if_natproto@{vqec\_\-nat\_\-get\_\-if\_\-natproto}!vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}const vqec\_\-nat\_\-proto\_\-if\_\-t$\ast$ vqec\_\-nat\_\-get\_\-if\_\-natproto (void)}\label{vqec__nat__natproto_8c_d3f5cc9b53b4734787b2a0914f44a77b}


\index{vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}!vqec_nat_natproto_close@{vqec\_\-nat\_\-natproto\_\-close}}
\index{vqec_nat_natproto_close@{vqec\_\-nat\_\-natproto\_\-close}!vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static void vqec\_\-nat\_\-natproto\_\-close (vqec\_\-nat\_\-bindid\_\-t {\em id})\hspace{0.3cm}{\tt  [static]}}\label{vqec__nat__natproto_8c_cdf2e1d84766a8fa6f87424c7a1eee67}


--------------------------------------------------------------------------- Close an existing protocol binding.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[\mbox{$\leftarrow$} {\em id}]Identifier of the binding to be closed. --------------------------------------------------------------------------- \end{description}
\end{Desc}
\index{vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}!vqec_nat_natproto_create@{vqec\_\-nat\_\-natproto\_\-create}}
\index{vqec_nat_natproto_create@{vqec\_\-nat\_\-natproto\_\-create}!vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static boolean vqec\_\-nat\_\-natproto\_\-create (vqec\_\-nat\_\-init\_\-params\_\-t $\ast$ {\em params})\hspace{0.3cm}{\tt  [static]}}\label{vqec__nat__natproto_8c_2f9ddd2c3ebc439a98e56eef8db82669}


\index{vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}!vqec_nat_natproto_debug_clr@{vqec\_\-nat\_\-natproto\_\-debug\_\-clr}}
\index{vqec_nat_natproto_debug_clr@{vqec\_\-nat\_\-natproto\_\-debug\_\-clr}!vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static void vqec\_\-nat\_\-natproto\_\-debug\_\-clr (void)\hspace{0.3cm}{\tt  [static]}}\label{vqec__nat__natproto_8c_5f0cfa868caa5bb89e90ededa7a6d8bc}


--------------------------------------------------------------------------- Disable debug for NAT. --------------------------------------------------------------------------- \index{vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}!vqec_nat_natproto_debug_set@{vqec\_\-nat\_\-natproto\_\-debug\_\-set}}
\index{vqec_nat_natproto_debug_set@{vqec\_\-nat\_\-natproto\_\-debug\_\-set}!vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static void vqec\_\-nat\_\-natproto\_\-debug\_\-set (boolean {\em verbose})\hspace{0.3cm}{\tt  [static]}}\label{vqec__nat__natproto_8c_dc9ff90c920515de978ddd8f9b04bda3}


--------------------------------------------------------------------------- Enable debug for NAT.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[\mbox{$\leftarrow$} {\em verbose}]Controls verbose mode for debugging. --------------------------------------------------------------------------- \end{description}
\end{Desc}
\index{vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}!vqec_nat_natproto_destroy@{vqec\_\-nat\_\-natproto\_\-destroy}}
\index{vqec_nat_natproto_destroy@{vqec\_\-nat\_\-natproto\_\-destroy}!vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static void vqec\_\-nat\_\-natproto\_\-destroy (void)\hspace{0.3cm}{\tt  [static]}}\label{vqec__nat__natproto_8c_99871884df024459dbb8fba4b7aec83c}


--------------------------------------------------------------------------- Destroy the protocol, and release all allocated objects. --------------------------------------------------------------------------- \index{vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}!vqec_nat_natproto_eject@{vqec\_\-nat\_\-natproto\_\-eject}}
\index{vqec_nat_natproto_eject@{vqec\_\-nat\_\-natproto\_\-eject}!vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static void vqec\_\-nat\_\-natproto\_\-eject (vqec\_\-nat\_\-bindid\_\-t {\em id}, char $\ast$ {\em buf}, uint16\_\-t {\em len}, in\_\-addr\_\-t {\em source\_\-ip}, in\_\-port\_\-t {\em source\_\-port})\hspace{0.3cm}{\tt  [static]}}\label{vqec__nat__natproto_8c_31108135edbfb77102b9f81ed4c898cd}


\index{vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}!vqec_nat_natproto_find_internal@{vqec\_\-nat\_\-natproto\_\-find\_\-internal}}
\index{vqec_nat_natproto_find_internal@{vqec\_\-nat\_\-natproto\_\-find\_\-internal}!vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static vqec\_\-nat\_\-bindid\_\-t vqec\_\-nat\_\-natproto\_\-find\_\-internal (vqec\_\-nat\_\-bind\_\-desc\_\-t $\ast$ {\em desc})\hspace{0.3cm}{\tt  [static]}}\label{vqec__nat__natproto_8c_404efe64d4aae2cb8370dc87f474e450}


\index{vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}!vqec_nat_natproto_fprint@{vqec\_\-nat\_\-natproto\_\-fprint}}
\index{vqec_nat_natproto_fprint@{vqec\_\-nat\_\-natproto\_\-fprint}!vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static void vqec\_\-nat\_\-natproto\_\-fprint (vqec\_\-nat\_\-bindid\_\-t {\em id})\hspace{0.3cm}{\tt  [static]}}\label{vqec__nat__natproto_8c_85cc060628dba4c9d147591e0eb2e585}


--------------------------------------------------------------------------- Print information about one binding.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[\mbox{$\leftarrow$} {\em id}]Identifier of the binding. --------------------------------------------------------------------------- \end{description}
\end{Desc}
\index{vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}!vqec_nat_natproto_fprint_all@{vqec\_\-nat\_\-natproto\_\-fprint\_\-all}}
\index{vqec_nat_natproto_fprint_all@{vqec\_\-nat\_\-natproto\_\-fprint\_\-all}!vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static void vqec\_\-nat\_\-natproto\_\-fprint\_\-all (void)\hspace{0.3cm}{\tt  [static]}}\label{vqec__nat__natproto_8c_2cb781ee67e91efef461e2c6ee4fa9d3}


--------------------------------------------------------------------------- Print information about all bindings. --------------------------------------------------------------------------- \index{vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}!vqec_nat_natproto_is_behind_nat@{vqec\_\-nat\_\-natproto\_\-is\_\-behind\_\-nat}}
\index{vqec_nat_natproto_is_behind_nat@{vqec\_\-nat\_\-natproto\_\-is\_\-behind\_\-nat}!vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static boolean vqec\_\-nat\_\-natproto\_\-is\_\-behind\_\-nat (void)\hspace{0.3cm}{\tt  [static]}}\label{vqec__nat__natproto_8c_67cb233d67c5800aba47c7bd69ec3926}


--------------------------------------------------------------------------- Is the device behind a NAT.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[\mbox{$\rightarrow$} {\em boolean}]Returns true if the device is behind a NAT. --------------------------------------------------------------------------- \end{description}
\end{Desc}
\index{vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}!vqec_nat_natproto_is_same_binding@{vqec\_\-nat\_\-natproto\_\-is\_\-same\_\-binding}}
\index{vqec_nat_natproto_is_same_binding@{vqec\_\-nat\_\-natproto\_\-is\_\-same\_\-binding}!vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static boolean vqec\_\-nat\_\-natproto\_\-is\_\-same\_\-binding (vqec\_\-nat\_\-bind\_\-desc\_\-t $\ast$ {\em desc1}, vqec\_\-nat\_\-bind\_\-desc\_\-t $\ast$ {\em desc2})\hspace{0.3cm}{\tt  [inline, static]}}\label{vqec__nat__natproto_8c_261af32fb1b0da5bedaa967988468e2a}


--------------------------------------------------------------------------- Find an existing binding based on 4-tuple lookup.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[\mbox{$\leftarrow$} {\em desc}]Attributes of the binding to be searched. \item[\mbox{$\rightarrow$} {\em vqec\_\-nat\_\-bindid\_\-t}]A valid id if the binding exists, invalid handle otherwise. --------------------------------------------------------------------------- \end{description}
\end{Desc}
\index{vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}!vqec_nat_natproto_open@{vqec\_\-nat\_\-natproto\_\-open}}
\index{vqec_nat_natproto_open@{vqec\_\-nat\_\-natproto\_\-open}!vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static vqec\_\-nat\_\-bindid\_\-t vqec\_\-nat\_\-natproto\_\-open (vqec\_\-nat\_\-bind\_\-desc\_\-t $\ast$ {\em desc})\hspace{0.3cm}{\tt  [static]}}\label{vqec__nat__natproto_8c_1929976ff61736d21ebb3662de253ffc}


--------------------------------------------------------------------------- Open a new protocol binding.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[\mbox{$\leftarrow$} {\em desc}]Descriptor which specifies the binding. \item[\mbox{$\rightarrow$} {\em vqec\_\-nat\_\-bindid\_\-t}]An identifier which can then be used to refer to the binding. If no identifier can be allocated, an Invalid id is returned. --------------------------------------------------------------------------- \end{description}
\end{Desc}
\index{vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}!vqec_nat_natproto_query@{vqec\_\-nat\_\-natproto\_\-query}}
\index{vqec_nat_natproto_query@{vqec\_\-nat\_\-natproto\_\-query}!vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static boolean vqec\_\-nat\_\-natproto\_\-query (vqec\_\-nat\_\-bindid\_\-t {\em id}, vqec\_\-nat\_\-bind\_\-data\_\-t $\ast$ {\em data}, boolean {\em refresh})\hspace{0.3cm}{\tt  [static]}}\label{vqec__nat__natproto_8c_4217456fc0436004935341d52881c419}


--------------------------------------------------------------------------- Query the latest mapping for an existing binding.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[\mbox{$\leftarrow$} {\em id}]Identifier of the binding queried. \item[\mbox{$\rightarrow$} {\em data}]Pointer to the data associated with the mapping. \item[\mbox{$\leftarrow$} {\em refresh}]If the binding should be refreshed: no action. \item[\mbox{$\rightarrow$} {\em boolean}]Returns true ifthe id is for a valid binding. --------------------------------------------------------------------------- \end{description}
\end{Desc}
\index{vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}!vqec_nat_natproto_state@{vqec\_\-nat\_\-natproto\_\-state}}
\index{vqec_nat_natproto_state@{vqec\_\-nat\_\-natproto\_\-state}!vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static const char$\ast$ vqec\_\-nat\_\-natproto\_\-state (\bf{vqec\_\-nat\_\-natproto\_\-bind\_\-t} $\ast$ {\em p\_\-bind})\hspace{0.3cm}{\tt  [static]}}\label{vqec__nat__natproto_8c_a820b8ec3fd9a3ee70bde1056465bb84}


--------------------------------------------------------------------------- A character string representing the current discovered nat state.

\begin{Desc}
\item[Parameters:]
\begin{description}
\item[\mbox{$\leftarrow$} {\em p\_\-bind}]Pointer to the NAT binding. \item[\mbox{$\rightarrow$} {\em char$\ast$}]Pointer to a constant string representing the state of the binding. --------------------------------------------------------------------------- \end{description}
\end{Desc}
\index{vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}!vqec_nat_proto_hash@{vqec\_\-nat\_\-proto\_\-hash}}
\index{vqec_nat_proto_hash@{vqec\_\-nat\_\-proto\_\-hash}!vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}static uint16\_\-t vqec\_\-nat\_\-proto\_\-hash (uint16\_\-t {\em port})\hspace{0.3cm}{\tt  [inline, static]}}\label{vqec__nat__natproto_8c_ee1a38bea6b6959b04628df6c182209b}


--------------------------------------------------------------------------- Simple hash function on ports. --------------------------------------------------------------------------- 

\subsection{Variable Documentation}
\index{vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}!s_natproto@{s\_\-natproto}}
\index{s_natproto@{s\_\-natproto}!vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\bf{vqec\_\-nat\_\-natproto\_\-t} \bf{s\_\-natproto}\hspace{0.3cm}{\tt  [static]}}\label{vqec__nat__natproto_8c_01d1cc286c69d52038a9c8c9c8eb49d1}


\index{vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}!s_natproto_if@{s\_\-natproto\_\-if}}
\index{s_natproto_if@{s\_\-natproto\_\-if}!vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}vqec\_\-nat\_\-proto\_\-if\_\-t \bf{s\_\-natproto\_\-if}\hspace{0.3cm}{\tt  [static]}}\label{vqec__nat__natproto_8c_bda64e35ed7738ddfe563e4e0acbb7cb}


\textbf{Initial value:}

\begin{Code}\begin{verbatim} 
{

    .create = vqec_nat_natproto_create,
    .destroy = vqec_nat_natproto_destroy,
    .open = vqec_nat_natproto_open,
    .close = vqec_nat_natproto_close,
    .query = vqec_nat_natproto_query,
    .fprint = vqec_nat_natproto_fprint,
    .fprint_all = vqec_nat_natproto_fprint_all,
    .eject_rx = vqec_nat_natproto_eject,
    .debug_set = vqec_nat_natproto_debug_set,
    .debug_clr = vqec_nat_natproto_debug_clr,
    .is_behind_nat = vqec_nat_natproto_is_behind_nat

}
\end{verbatim}\end{Code}
--------------------------------------------------------------------------- Interface definition. --------------------------------------------------------------------------- \index{vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}!vqec_nat_natproto_t@{vqec\_\-nat\_\-natproto\_\-t}}
\index{vqec_nat_natproto_t@{vqec\_\-nat\_\-natproto\_\-t}!vqec_nat_natproto.c@{vqec\_\-nat\_\-natproto.c}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}\bf{vqec\_\-nat\_\-natproto\_\-t}}\label{vqec__nat__natproto_8c_135f99105c4acba2d47cee73c9f96579}


